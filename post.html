<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <script>
        // ファイル名
        var file_name = 'post.html';

        // パラメータキー
        var parameter_key = 'post_id';

        // URLを取得
        var path_name = window.location.pathname;
        var query_string = window.location.search;
        var base_dir = path_name.split(file_name)[0];

        // パーマリンクに再変換
        var match_condition = new RegExp(parameter_key + '=[a-z0-9-_]+$');
        if (parameter = query_string.match(match_condition)) {
            parameter_value = parameter[0].split('=')[1];
            history.replaceState(null, null, base_dir + file_name.replace('.html', '/') + parameter_value);
            document.title = parameter_value + ' | Github Pages Rewrite';
        }

    </script>
</body>

</html>